import{_ as w}from"./BannerBox.vue_vue_type_style_index_0_lang-b9fa0cec.js";import{_ as S}from"./time-dd149834.js";import{a as B}from"./index-95bbffde.js";import{d as $,t as y,b as i,c as n,e as v,w as b,u as r,f as t,g as I,l as g,h as f,m as A,_ as z,i as _,F as h,j as L,p as D,a as k,r as E,n as C,o as U}from"./index-87c83c5e.js";const P={class:"list-desc"},j={class:"desc-title"},V={class:"desc-subtitle"},R={class:"desc-date"},T=t("img",{class:"date-icon",src:S},null,-1),M={class:"date"},q={class:"desc-text"},G=$({__name:"NoteItem",props:{data:{default:()=>({})},year:{default:""}},setup(e){const u=e,{id:d,cover:p,title:m,subTitle:o,authorAvatar:l,createDate:c,description:s}=y(u.data);return(a,N)=>{const F=i("a-avatar"),x=i("router-link");return n(),v(x,{to:`/article?id=${r(d)}`,class:"note-list-box"},{default:b(()=>[t("div",{class:"list-img",style:I({backgroundImage:`url(${r(p)})`})},null,4),t("div",P,[t("div",j,g(r(m)),1),t("div",V,g(r(o)),1),t("div",R,[f(F,{size:"small",src:r(l)},null,8,["src"]),T,t("span",M,g(r(A)(r(c)).format("LL")),1)]),t("div",q,g(r(s)),1)])]),_:1},8,["to"])}}});const H=$({name:"NotesList",components:{NoteItem:G},props:{list:{type:Array,default:[]},total:{type:Number,default:0},pageSize:{type:Number,default:10},pageNo:{type:Number,default:1},onPageChange:{type:Function,default:()=>{}},bannerUrl:{type:String,default:""}}});const J={class:"notes-content"},K={class:"list-year"},O={class:"list-box-info"},Q={class:"pager-content"},W={key:1};function X(e,u,d,p,m,o){const l=i("note-item"),c=i("a-pagination");return n(),_("div",J,[t("div",{class:"notes-list",style:I({backgroundImage:`url(${e.bannerUrl})`})},[(n(!0),_(h,null,L(e.list,(s,a)=>(n(),_("div",{key:a},[s.list.length?(n(),_(h,{key:0},[t("div",K,g(s.date),1),t("div",O,[(n(!0),_(h,null,L(s.list,N=>(n(),v(l,{year:s.date,data:N},null,8,["year","data"]))),256))])],64)):D("",!0)]))),128))],4),t("div",Q,[e.total?(n(),v(c,{key:0,"show-total":s=>`Total ${s} article`,"page-size":e.pageSize,current:e.pageNo,total:e.total,"on-change":e.onPageChange},null,8,["show-total","page-size","current","total","on-change"])):(n(),_("span",W,"这个作者很懒，什么都没有写~~"))])])}const Y=z(H,[["render",X]]),Z=$({ame:"Life",components:{BannerBox:w,NoteList:Y},setup(){const e=k({total:0,pageSize:10,pageNo:1}),u=E(""),d=k({articleList:[]}),p=C.findIndex(o=>o.title_en==="LIFE");p>-1&&(u.value=C[p].bannerImgUrl),U(()=>{m(1,10)});const m=async(o,l)=>{e.pageSize=l,e.pageNo=o;const c=await B({pageNo:o,pageSize:l,type:2}),{resultCode:s,data:a}=c;Number(s)===0&&a&&(d.articleList=(a==null?void 0:a.list)||[],e.total=(a==null?void 0:a.total)||0)};return{...y(d),...y(e),bannerImgUrl:u,handlePage:m}}}),ee={class:"life-content"};function te(e,u,d,p,m,o){const l=i("banner-box"),c=i("note-list"),s=i("a-col"),a=i("a-row");return n(),_(h,null,[f(l,{title:"Life Notes","banner-url":e.bannerImgUrl},null,8,["banner-url"]),f(a,{justify:"center"},{default:b(()=>[f(s,{xs:22,sm:22,lg:22,xl:18,xxl:16,class:"life-box"},{default:b(()=>[t("div",ee,[f(c,{list:e.articleList,total:e.total,"page-size":e.pageSize,"page-no":e.pageNo,"on-page-change":e.handlePage},null,8,["list","total","page-size","page-no","on-page-change"])])]),_:1})]),_:1})],64)}const le=z(Z,[["render",te]]);export{le as default};
