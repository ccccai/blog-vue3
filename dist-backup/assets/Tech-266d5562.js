import{d as C,b as u,c as r,i as d,f as a,F as k,j as I,e as T,l as y,w as N,g as D,h as m,u as B,m as U,p as x,q as P,r as R,a as z,n as $,o as j,t as L,_ as q}from"./index-f1325678.js";import{_ as F}from"./BannerBox.vue_vue_type_style_index_0_lang-c20f7a49.js";import{_ as V}from"./InfoBox.vue_vue_type_style_index_0_lang-710674a4.js";import{_ as A}from"./time-dd149834.js";import{a as E,b as H}from"./index-4af6d471.js";const M={class:"timeline-content"},G={class:"timeline-list"},J={class:"list-year"},K={class:"list-box-info"},O={class:"list-desc"},Q={class:"desc-date"},W=a("img",{class:"date-icon",src:A},null,-1),X={class:"date"},Y={class:"desc-title"},Z={class:"desc-subtitle"},ee={class:"pager-content"},te={key:1},se=C({__name:"TimelineList",props:{list:{default:()=>[]},total:{default:0},pageSize:{default:10},pageNo:{default:1},bannerUrl:{default:""},onPageChange:{type:Function,default:()=>{}}},setup(e){return(o,g)=>{const _=u("a-avatar"),f=u("router-link"),h=u("a-pagination");return r(),d("div",M,[a("div",G,[(r(!0),d(k,null,I(o.list,(i,b)=>(r(),d("div",{key:b},[i.list.length?(r(),d(k,{key:0},[a("div",J,y(i.date),1),a("div",K,[(r(!0),d(k,null,I(i.list,s=>(r(),T(f,{to:`/article?id=${s.id}`,class:"list-box"},{default:N(()=>[a("div",{class:"list-img",style:D({backgroundImage:`url(${s.cover})`})},null,4),a("div",O,[a("div",Q,[m(_,{size:"small",src:s.authorAvatar},null,8,["src"]),W,a("span",X,y(B(U)(s.createDate).format("LL")),1)]),a("div",Y,y(s.title),1),a("div",Z,y(s.subTitle),1)])]),_:2},1032,["to"]))),256))])],64)):x("",!0)]))),128))]),a("div",ee,[o.total?(r(),T(h,{key:0,"show-total":i=>`Total ${i} article`,"page-size":o.pageSize,current:o.pageNo,total:o.total,"on-change":o.onPageChange},null,8,["show-total","page-size","current","total","on-change"])):(r(),d("span",te,"这个作者很懒，什么都没有写~~"))])])}}});const ne=C({ame:"Tech",components:{BannerBox:F,BlogInfo:V,TimelineList:se},setup(){const e=P(),o=R(""),g=z({count:{articles:0,tags:0,categories:0},categories:[],tags:[],articleList:[]}),_=z({total:0,pageSize:10,pageNo:1}),f=z({nickName:"",description:""}),h=$.findIndex(n=>n.title_en==="TECH");h>-1&&(o.value=$[h].bannerImgUrl);const i=async(n,c,t,v)=>{_.pageSize=c,_.pageNo=n;const l={pageNo:n,pageSize:c,type:1};t>0&&(l.categoryId=t),v>0&&(l.tagId=v);const S=await E(l),{resultCode:w,data:p}=S;Number(w)===0&&p&&(g.articleList=(p==null?void 0:p.list)||[],_.total=(p==null?void 0:p.total)||0)},b=async()=>{var v;const n=await H(),{resultCode:c,data:t}=n;if(c===0){const l=(v=t==null?void 0:t.blogInfo)!=null&&v.length?t.blogInfo[0]:{};f.nickName=l==null?void 0:l.nickName,f.description=l==null?void 0:l.description,g.categories=t==null?void 0:t.categories,g.tags=t==null?void 0:t.tags,g.count=t==null?void 0:t.count}},s=()=>{var n,c;i(1,_.pageSize,Number((n=e.query)==null?void 0:n.category),Number((c=e.query)==null?void 0:c.tag))};return j(()=>{s(),b()}),{...L(f),...L(g),...L(_),bannerImgUrl:o,handlePage:i,initData:s}}});function ae(e,o,g,_,f,h){const i=u("banner-box"),b=u("blog-info"),s=u("a-col"),n=u("timeline-list"),c=u("a-row");return r(),d(k,null,[m(i,{title:"Technology","banner-url":e.bannerImgUrl},null,8,["banner-url"]),m(c,{justify:"center",class:"tech-content"},{default:N(()=>[m(s,{xs:22,sm:20,lg:10,xl:8,xxl:6,class:"tech-left"},{default:N(()=>[m(b,{"nick-name":e.nickName,description:e.description,categories:e.categories,tags:e.tags,count:e.count,onUpdateData:e.initData},null,8,["nick-name","description","categories","tags","count","onUpdateData"])]),_:1}),m(s,{xs:22,sm:20,lg:14,xl:12,xxl:12,class:"tech-right"},{default:N(()=>[m(n,{list:e.articleList,total:e.total,"page-size":e.pageSize,"page-no":e.pageNo,"on-page-change":e.handlePage},null,8,["list","total","page-size","page-no","on-page-change"])]),_:1})]),_:1})],64)}const _e=q(ne,[["render",ae]]);export{_e as default};
